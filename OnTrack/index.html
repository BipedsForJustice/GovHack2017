<!DOCTYPE html>
<html>
<head>
	
	<title>On Track</title>

	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />	
	
<!--	<link rel="shortcut icon" type="image/x-icon" href="docs/images/favicon.ico" />  -->

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.1.0/dist/leaflet.css" integrity="sha512-wcw6ts8Anuw10Mzh9Ytw4pylW8+NAD4ch3lqm9lzAsTxg0GFeJgoAtxuCLREZSC5lUXdVyo/7yfsqFjQ4S+aKw==" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.1.0/dist/leaflet.js" integrity="sha512-mNqn2Wg7tSToJhvHcqfzLMU6J4mkOImSPTxVZAdo+lcPlk+GhZmYgACEe0x35K7YzW1zJ7XyJV/TT1MrdXvMcA==" crossorigin=""></script>

	<style>
		body {
			padding: 0;
			margin: 0;
		}
		html, body, #map {
			height: 100vh;
			width: 100vw;
		}
	</style>	
</head>
<body>

<div id='map'></div>

<script src="collection-geojson.js" type="text/javascript"></script>
<script src="shipwreck-geojson.js" type="text/javascript"></script>
<script>
	var map = L.map('map').setView([-34.9286600, 138.5986300], 9);

	L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiYmlwZWRzZm9yanVzdGljZSIsImEiOiJjajVxMTMxbXIwaGVnMnFvNTNqZHE0eHBiIn0.anwHYvWTFpEyruM8GNkRGA', {
		maxZoom: 18,
		attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
			'<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
			'Imagery Â© <a href="http://mapbox.com">Mapbox</a>',
		id: 'mapbox.light'
	}).addTo(map);

	var baseballIcon = L.icon({
		iconUrl: 'anchor.png',
		iconSize: [32, 37],
		iconAnchor: [16, 37],
		popupAnchor: [0, -28]
	});



	function onEachFeature(feature, layer) {
		var popupContent = "\
			<div style='font-weight:900'>"+feature.properties.Name + "</div>\
			<ul style='-webkit-margin-before: 0.3em;-webkit-margin-after: 0.3em;-webkit-margin-start: 0px;-webkit-margin-end: 0px;-webkit-padding-start:20px;'><li>Type: "+feature.properties.Distance + "</li>\
			<li>Length: "+feature.properties.Distance + "</li>\
			<li>Open to: "+feature.properties.OpenTo +"</li>\
			<li>Effort: "+feature.properties.Difficulty +"</li>\
			<li>Landscape: "+feature.properties.Landscape +"</li>\
			<li>Park name: "+feature.properties.park +"</li></ul>";

		if (feature.properties && feature.properties.popupContent) {
			popupContent += feature.properties.popupContent;
		}

		layer.bindPopup(popupContent);
	}




var historic1 = {
    "type": "Feature",
    "properties": {
        "style": {
            weight: 2,
            color: "#999",
            opacity: 1,
            fillColor: "#B0DE5C",
            fillOpacity: 0.8
        },
        "OBJECTID":1,"HERITAGE_A":"Belair National Park","ID_CODE":"H0800947","HERITAGENR":27556,"SHAPE.AREA":2369313.34978813,"SHAPE.LEN":8611.9269619597
    },
    "geometry": {
        "type": "Polygon",
        "coordinates":
			[ [ [ 138.660859625526996, -35.001752682158902, 0.0 ], [ 138.661121282512994, -35.001747478787202, 0.0 ], [ 138.663062807186009, -35.002150300120697, 0.0 ], [ 138.663736304351005, -35.002741496374398, 0.0 ], [ 138.663930145774998, -35.002880888985501, 0.0 ], [ 138.66508029553799, -35.003566698711097, 0.0 ], [ 138.665778303688995, -35.003864794976899, 0.0 ], [ 138.666589297548995, -35.004333404221398, 0.0 ], [ 138.66757020592101, -35.004792804794498, 0.0 ], [ 138.66823499646901, -35.005387695208903, 0.0 ], [ 138.670499684118994, -35.006233079556303, 0.0 ], [ 138.674787530577987, -35.006700791655703, 0.0 ], [ 138.676339262738992, -35.007395909798298, 0.0 ], [ 138.679815061814992, -35.007931129235203, 0.0 ], [ 138.681316171675007, -35.007595650188101, 0.0 ], [ 138.68075043448701, -35.008397726837998, 0.0 ], [ 138.680085009456008, -35.009341067031997, 0.0 ], [ 138.679188234486986, -35.010612356686998, 0.0 ], [ 138.677256883221986, -35.013350173180498, 0.0 ], [ 138.678848835222993, -35.013750837887002, 0.0 ], [ 138.678848344485999, -35.014315955927998, 0.0 ], [ 138.678742693505001, -35.0144626038309, 0.0 ], [ 138.678563053626988, -35.0145654110121, 0.0 ], [ 138.67840942718999, -35.014640211685297, 0.0 ], [ 138.678239968496001, -35.014706066961899, 0.0 ], [ 138.678055589832013, -35.014751771086402, 0.0 ], [ 138.677850364456987, -35.014788758677099, 0.0 ], [ 138.677673764735005, -35.014805609143103, 0.0 ], [ 138.677460515054008, -35.014813069853702, 0.0 ], [ 138.677272283602008, -35.014801444379302, 0.0 ], [ 138.677090478357997, -35.014776551644502, 0.0 ], [ 138.676882226467001, -35.014726100036597, 0.0 ], [ 138.67671293971901, -35.014669488013801, 0.0 ], [ 138.676542605256003, -35.014601819791402, 0.0 ], [ 138.676385841931989, -35.014519382350997, 0.0 ], [ 138.675987531504006, -35.013941694142197, 0.0 ], [ 138.675531872882999, -35.013568116009097, 0.0 ], [ 138.675342039289006, -35.013647226069402, 0.0 ], [ 138.674564129505995, -35.012330943876997, 0.0 ], [ 138.674429769340009, -35.012138105904803, 0.0 ], [ 138.674333834260011, -35.012033588222401, 0.0 ], [ 138.674562146867999, -35.011893381651902, 0.0 ], [ 138.67304830156499, -35.010996043919697, 0.0 ], [ 138.67237290779201, -35.011030867866701, 0.0 ], [ 138.671908925500986, -35.011003833728999, 0.0 ], [ 138.671676787548989, -35.01108431003, 0.0 ], [ 138.671056813067992, -35.011123204444303, 0.0 ], [ 138.670552691784991, -35.0111548158537, 0.0 ], [ 138.669611141542987, -35.0112138623875, 0.0 ], [ 138.66893220310601, -35.0115996830733, 0.0 ], [ 138.668759602103989, -35.011650980547699, 0.0 ], [ 138.668487621884992, -35.011855720392298, 0.0 ], [ 138.66803194849399, -35.012116183986201, 0.0 ], [ 138.667127109523989, -35.011418632376298, 0.0 ], [ 138.666040369276004, -35.012437488727102, 0.0 ], [ 138.66575063630799, -35.012453373195399, 0.0 ], [ 138.665048701267011, -35.012340966635101, 0.0 ], [ 138.664615122657011, -35.0122446931233, 0.0 ], [ 138.664153062537991, -35.012231580294902, 0.0 ], [ 138.663845602386004, -35.012277259558303, 0.0 ], [ 138.663647475109997, -35.012309310375102, 0.0 ], [ 138.663472001511991, -35.012351162967903, 0.0 ], [ 138.663188126682002, -35.0124349502751, 0.0 ], [ 138.662981448425001, -35.012526130419502, 0.0 ], [ 138.662750394042007, -35.012651454905303, 0.0 ], [ 138.662537067138004, -35.012796204077901, 0.0 ], [ 138.661994910500994, -35.0131333262797, 0.0 ], [ 138.661043185267005, -35.013580400769598, 0.0 ], [ 138.660609281825998, -35.013610538599302, 0.0 ], [ 138.660422990627012, -35.013693759616899, 0.0 ], [ 138.659243551516994, -35.013968569908599, 0.0 ], [ 138.658647303223006, -35.014435163315099, 0.0 ], [ 138.658152941009007, -35.014872486702899, 0.0 ], [ 138.657340227562003, -35.015156251099803, 0.0 ], [ 138.656458653419008, -35.015247233208498, 0.0 ], [ 138.65604585332099, -35.0151900621251, 0.0 ], [ 138.655352978732992, -35.014877918045897, 0.0 ], [ 138.654910004132006, -35.014676475975399, 0.0 ], [ 138.654753558262001, -35.012466313981101, 0.0 ], [ 138.654559548178014, -35.012443503337799, 0.0 ], [ 138.654784016354, -35.011099146850398, 0.0 ], [ 138.654793684064003, -35.010998382283198, 0.0 ], [ 138.654797981314999, -35.010912906376198, 0.0 ], [ 138.655012803854987, -35.0109182626368, 0.0 ], [ 138.654979594900993, -35.010483809859601, 0.0 ], [ 138.654923686133003, -35.010276851363699, 0.0 ], [ 138.654841485508001, -35.010094985865798, 0.0 ], [ 138.654740528450986, -35.009897577072302, 0.0 ], [ 138.654324349395011, -35.009414578183097, 0.0 ], [ 138.654047097462012, -35.009217205151302, 0.0 ], [ 138.653880676836991, -35.009117602920298, 0.0 ], [ 138.652749515516007, -35.008527891905999, 0.0 ], [ 138.652520171514993, -35.008388562582901, 0.0 ], [ 138.652234759061002, -35.008132154444802, 0.0 ], [ 138.652030872581008, -35.007841067261403, 0.0 ], [ 138.651905022845, -35.0075432219192, 0.0 ], [ 138.651850597458008, -35.007218828591697, 0.0 ], [ 138.651873683553987, -35.006898509150197, 0.0 ], [ 138.651982864106998, -35.006580435678899, 0.0 ], [ 138.652645877449999, -35.005738035170502, 0.0 ], [ 138.653102150074005, -35.004576565799802, 0.0 ], [ 138.652787353490993, -35.0038848489678, 0.0 ], [ 138.651682297419001, -35.0025485996321, 0.0 ], [ 138.651694475705, -35.000658743711298, 0.0 ], [ 138.651401380548009, -35.000160497139703, 0.0 ], [ 138.651306262041004, -35.000006740573497, 0.0 ], [ 138.652472293713998, -35.000087601598402, 0.0 ], [ 138.653317516848006, -35.000090981249301, 0.0 ], [ 138.654736473756003, -34.999899140003102, 0.0 ], [ 138.655372147007995, -35.001125510248301, 0.0 ], [ 138.656192763858996, -35.000394675841498, 0.0 ], [ 138.656526211500989, -35.000773448152401, 0.0 ], [ 138.657117605904006, -35.001589577352803, 0.0 ], [ 138.657972964381003, -35.001742613279802, 0.0 ], [ 138.659126054723004, -35.001787110158197, 0.0 ], [ 138.660859625526996, -35.001752682158902, 0.0 ] ] ] }
}



	function onEachHistory(feature, layer) {
		var popupContent = "<span>You've found a historic site!</span>\
			<div style='font-weight:900'>"+feature.properties.HERITAGE_A + "</div>";
		if (feature.properties && feature.properties.popupContent) {
			popupContent += feature.properties.popupContent;
		}

		layer.bindPopup(popupContent);
	}

	historicArray = []
	for(i=1;i<21;i++){
		historicArray[historicArray.length] = eval("historic"+i)
	}

	L.geoJSON(historicArray, {
		style: function (feature) {
			return feature.properties && feature.properties.style;
		},

		onEachFeature: onEachHistory,

		pointToLayer: function (feature, latlng) {
			return L.circleMarker(latlng, {
				radius: 8,
				fillColor: "#ff7800",
				color: "#000",
				weight: 1,
				opacity: 1,
				fillOpacity: 0.8
			});
		}
	}).addTo(map);


	L.geoJSON([AdmiralsArchWalk, CoralLichenCircuit, GreenfieldsWetlandsNatureTrail, KaikiWalk, LorikeetLoopWalk, MannumWaterfalls, MorialtaFallsValleyWalk, RiverRedGumLoop, ValleyLoopHike, WoorabindaBushlandReserveLoop, WirraWaterLoop, WoodDuckWalk], {
		onEachFeature: onEachFeature
	}).addTo(map);


	function onEachShipwreck(feature, layer) {
		var popupContent = "\
			<div style='font-weight:900'>Shipwreck: "+feature.properties.WRECKNAME + "!</div>\
			<ul style='-webkit-margin-before: 0.3em;-webkit-margin-after: 0.3em;-webkit-margin-start: 0px;-webkit-margin-end: 0px;-webkit-padding-start:20px;'>\
			<li>Location: "+feature.properties.REGION +". "+feature.properties.LOSSLOCATION +"</li>\
			<li>Built: "+feature.properties.PORTBUILD+", "+feature.properties.COUNTRY +", "+feature.properties.BUILDDATE +"</li>\
			<li>Date of loss: "+feature.properties.LOSSDATE +"</li>\
			<li>Cause of loss: "+feature.properties.LOSSCAUSE +"</li>\
			<li>Found: "+feature.properties.ISFOUND +"</li>\
			<li>Protected: "+feature.properties.ISPROTECTED +"</li>\
			<li>Public Access: "+feature.properties.PUBLIC_ACCESS_LEVEL +"</li></ul>";

		if (feature.properties && feature.properties.popupContent) {
			popupContent += feature.properties.popupContent;
		}

		layer.bindPopup(popupContent);
	}



	shipwreckArray = []
	for(i=1;i<153;i++){
		shipwreckArray[shipwreckArray.length] = eval("shipwreck"+i)
	}

	var coorsLayer = L.geoJSON(shipwreckArray, {
		pointToLayer: function (feature, latlng) {
			return L.marker(latlng, {icon: baseballIcon});
		},
		onEachFeature: onEachShipwreck
	}).addTo(map);
</script>
</body>
</html>